"use strict";var fs=require("fs"),data=require("../../data.json");module.exports={index:function(n,a){return a.json({data:data})},find:function(n,a){var t=n.params.id,r=data.find(function(n){return n.id==t});if(!r)return a.status(204).json();var e=n.body;e.name,e.username,e.email,e.address,e.geo;return a.json({clientFound:r})},post:function(n,a){var t=n.body,r=t.name,e=t.username,i=t.email,d=t.address,s=t.geo,u=Number(data.length+1);return data.push({id:u,name:r,username:e,email:i,address:d,geo:s}),fs.writeFile("data.json",JSON.stringify(data,null,2),function(n){if(n)throw n}),a.json({data:data})},put:function(n,a){var t=n.params.id,r=data.find(function(n){return n.id==t});if(!r)return a.status(204).json();var e=n.body.name;return r.name=e,fs.writeFile("data.json",JSON.stringify(data,null,2),function(n){if(n)throw n}),a.json({clientFound:r})},delete:function(n,a){var t=n.params.id,r=data.find(function(n){return n.id==t}),e=data.filter(function(n){return n.id!=t});return r?(fs.writeFile("data.json",JSON.stringify(e,null,2),function(n){if(n)throw n}),a.json({data:data})):a.status(204).json()}};